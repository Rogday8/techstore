<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TechStore - Премиальная Техника</title>
    <link rel="stylesheet" href="styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Space+Grotesk:wght@400;500;600;700&display=swap" rel="stylesheet">
    <script type="module" src="https://ajax.googleapis.com/ajax/libs/model-viewer/3.3.0/model-viewer.min.js"></script>
</head>
<body>
    <!-- Header -->
    <header class="header">
        <div class="container">
            <div class="logo">TechStore</div>
            <nav class="nav">
                <a href="#products">Каталог</a>
                <a onclick="openAboutModal()">О нас</a>
                <a onclick="openContactModal()">Контакты</a>
            </nav>
            <div style="display: flex; align-items: center; gap: 1rem;">
                <div class="admin-toggle" id="adminToggle" onclick="toggleAdminMode()" style="cursor: pointer;" title="Админ режим">
                    ADMIN
                </div>
                <div class="cart-icon" onclick="toggleCart()" style="text-transform: uppercase; letter-spacing: 1px; font-size: 0.9rem;">
                    CART
                    <span class="cart-count" id="cartCount">0</span>
                </div>
            </div>
        </div>
    </header>

    <!-- Hero Section -->
    <section class="hero">
        <div class="container">
            <h1>Премиальная техника будущего</h1>
            <p>Откройте для себя инновации мирового уровня</p>
            <a href="#products" class="btn-primary">Смотреть каталог</a>
        </div>
    </section>

    <!-- Products Section -->
    <section id="products" class="products">
        <div class="container">
            <h2>Наш каталог</h2>
            <div class="categories-filter">
                <button class="filter-btn active" onclick="filterProducts('all')">Все товары</button>
                <button class="filter-btn" onclick="filterProducts('Смартфоны')">Смартфоны</button>
                <button class="filter-btn" onclick="filterProducts('Наушники')">Наушники</button>
                <button class="filter-btn" onclick="filterProducts('Умные часы')">Умные часы</button>
                <button class="filter-btn" onclick="filterProducts('Кабели')">Кабели</button>
                <button class="filter-btn" onclick="filterProducts('Чехлы')">Чехлы</button>
                <button class="filter-btn" onclick="filterProducts('Аксессуары')">Аксессуары</button>
            </div>
            <div class="products-grid" id="productsGrid">
                <!-- Товары будут добавлены через JavaScript -->
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-bottom">
                <p>&copy; 2024 TechStore. Все права защищены.</p>
            </div>
        </div>
    </footer>

    <!-- Модальное окно товара -->
    <div id="productModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeModal()">&times;</span>
            <div id="modalContent"></div>
        </div>
    </div>

    <!-- 3D Viewer Modal -->
    <div id="viewer3DModal" class="modal">
        <div class="modal-content viewer-content">
            <span class="close" onclick="close3DViewer()">&times;</span>
            <h2>3D Просмотр</h2>
            <div id="viewer3D" class="viewer3d-container">
                <model-viewer 
                    id="model-viewer" 
                    src="" 
                    camera-controls 
                    auto-rotate
                    auto-rotate-delay="0"
                    rotation-per-second="30deg"
                    shadow-intensity="1"
                    environment-image="neutral"
                    style="width: 100%; height: 100%;">
                    <button slot="ar-button" class="btn-control" style="position: absolute; bottom: 10px; left: 50%; transform: translateX(-50%);">
                        AR Просмотр
                    </button>
                </model-viewer>
            </div>
            <div class="viewer-controls">
                <button class="btn-control" onclick="close3DViewer()">Закрыть</button>
                <label class="btn-control btn-upload" id="adminUploadBtn" style="display: none; cursor: pointer;">
                    Загрузить 3D модель
                    <input type="file" accept=".glb,.gltf,.usdz" id="modelUploadInput" style="display: none;" onchange="upload3DModel(event)">
                </label>
                <button class="btn-control" id="adminClearBtn" style="display: none;" onclick="clearSaved3DModels()">
                    Очистить сохраненные
                </button>
            </div>
        </div>
    </div>

    <!-- Корзина -->
    <div id="cart" class="cart">
        <div class="cart-content">
            <div class="cart-header">
                <h3>Корзина</h3>
                <button class="cart-close-btn" onclick="toggleCart()">&times;</button>
            </div>
            <div id="cartItems" class="cart-items"></div>
            <div class="cart-total">
                <strong>Итого: <span id="cartTotal">0</span> ₽</strong>
                <button class="btn-checkout" onclick="checkout()">Оформить заказ</button>
            </div>
        </div>
    </div>

    <!-- Форма заказа -->
    <div id="checkoutModal" class="modal">
        <div class="modal-content checkout-content">
            <span class="close" onclick="closeCheckoutModal()">&times;</span>
            <h2>Оформление заказа</h2>
            <form id="checkoutForm" onsubmit="submitOrder(event)">
                <input type="text" placeholder="Имя" required>
                <input type="tel" placeholder="Телефон" required>
                <input type="email" placeholder="Email" required>
                <textarea placeholder="Адрес доставки" required></textarea>
                <button type="submit" class="btn-primary btn-full">Подтвердить заказ</button>
            </form>
        </div>
    </div>

    <!-- About Modal -->
    <div id="aboutModal" class="modal">
        <div class="modal-content about-modal-content">
            <span class="close" onclick="closeAboutModal()">&times;</span>
            <h2>О компании</h2>
            <div class="about-modal-body">
                <p class="about-lead">
                    TechStore — ваш надежный партнер в мире премиальной электроники с 2015 года. Мы предлагаем только оригинальную продукцию ведущих мировых брендов с официальной гарантией.
                </p>
                <div class="about-grid">
                    <div class="about-card">
                        <div class="about-icon" style="font-size: 3rem; font-weight: 300;">01</div>
                        <h3>Качество</h3>
                        <p>100% оригинальная продукция Apple, Samsung, Sony и других премиальных брендов с официальной гарантией</p>
                    </div>
                    <div class="about-card">
                        <div class="about-icon" style="font-size: 3rem; font-weight: 300;">02</div>
                        <h3>Доставка</h3>
                        <p>Быстрая доставка по всей России в течение 1-3 дней. Бесплатная доставка при заказе от 10 000 ₽</p>
                    </div>
                    <div class="about-card">
                        <div class="about-icon" style="font-size: 3rem; font-weight: 300;">03</div>
                        <h3>Поддержка</h3>
                        <p>Профессиональная консультация 24/7. Помогаем выбрать идеальное устройство под ваши задачи</p>
                    </div>
                    <div class="about-card">
                        <div class="about-icon" style="font-size: 3rem; font-weight: 300;">04</div>
                        <h3>Безопасность</h3>
                        <p>Защищенные платежи и конфиденциальность данных. Мы заботимся о вашей безопасности</p>
                    </div>
                    <div class="about-card">
                        <div class="about-icon" style="font-size: 3rem; font-weight: 300;">05</div>
                        <h3>Бонусы</h3>
                        <p>Программа лояльности с кэшбэком и специальными предложениями для постоянных клиентов</p>
                    </div>
                    <div class="about-card">
                        <div class="about-icon" style="font-size: 3rem; font-weight: 300;">06</div>
                        <h3>Сервис</h3>
                        <p>Собственный сервисный центр с квалифицированными мастерами и оригинальными запчастями</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Contact Modal -->
    <div id="contactModal" class="modal">
        <div class="modal-content contact-modal-content">
            <span class="close" onclick="closeContactModal()">&times;</span>
            <h2>Контакты</h2>
            <div class="contact-modal-body">
                <div class="contacts-grid">
                    <div class="contact-card">
                        <div class="contact-icon" style="font-size: 3rem; font-weight: 300;">AD</div>
                        <h3>Адрес</h3>
                        <p>Москва, улица Волхонка, 6</p>
                    </div>
                    <div class="contact-card">
                        <div class="contact-icon" style="font-size: 3rem; font-weight: 300;">PH</div>
                        <h3>Телефон</h3>
                        <p><a href="tel:+79565209156">+7-956-520-91-56</a></p>
                    </div>
                    <div class="contact-card">
                        <div class="contact-icon" style="font-size: 3rem; font-weight: 300;">EM</div>
                        <h3>Email</h3>
                        <p><a href="mailto:rogdat@mail.ru">rogdat@mail.ru</a></p>
                    </div>
                </div>
                <div class="contact-info">
                    <div class="info-box">
                        <h4>График работы</h4>
                        <p>Пн–Вс: 10:00 – 22:00</p>
                        <p>Доставка: круглосуточно</p>
                    </div>
                    <div class="info-box">
                        <h4>Соцсети</h4>
                        <div class="social-links">
                            <a href="#">VK</a>
                            <a href="#">Telegram</a>
                            <a href="#">WhatsApp</a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Three.js библиотеки (для 3D функций) -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    
    <script src="script.js"></script>
</body>
</html>
