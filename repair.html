<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, user-scalable=yes">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <title>Услуги ремонта - Apple Favorite</title>
    <link rel="icon" type="image/png" sizes="256x256" href="images/favicon/fhg.png">
    <link rel="icon" type="image/png" sizes="192x192" href="images/favicon/fhg.png">
    <link rel="icon" type="image/png" sizes="128x128" href="images/favicon/fhg.png">
    <link rel="icon" type="image/png" sizes="96x96" href="images/favicon/fhg.png">
    <link rel="icon" type="image/png" sizes="64x64" href="images/favicon/fhg.png">
    <link rel="icon" type="image/png" sizes="32x32" href="images/favicon/fhg.png">
    <link rel="apple-touch-icon" sizes="256x256" href="images/favicon/fhg.png">
    <link rel="shortcut icon" type="image/png" href="images/favicon/fhg.png">
    <link rel="stylesheet" href="styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&family=Montserrat:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        /* Repair Page Specific Styles */
        .repair-page {
            background: #ffffff;
            min-height: 100vh;
        }
        
        .repair-header {
            background: #000000;
            color: #ffffff;
            padding: 2rem 0;
            border-bottom: 2px solid #000000;
        }
        
        .repair-header .container {
            display: flex;
            align-items: center;
            justify-content: space-between;
        }
        
        .repair-header .logo {
            display: flex;
            align-items: center;
            gap: 1rem;
            text-decoration: none;
            color: #ffffff;
        }
        
        .repair-header .logo img {
            width: 48px;
            height: 48px;
        }
        
        .repair-header .logo-text {
            font-size: 1.5rem;
            font-weight: 600;
            font-family: 'Montserrat', sans-serif;
        }
        
        .repair-header .back-link {
            color: #ffffff;
            text-decoration: none;
            font-size: 1rem;
            font-weight: 500;
            padding: 0.5rem 1rem;
            border: 1px solid #ffffff;
            transition: all 0.3s;
        }
        
        .repair-header .back-link:hover {
            background: #ffffff;
            color: #000000;
        }
        
        .repair-section {
            padding: 4rem 0;
            border-bottom: 1px solid #e5e5e5;
        }
        
        .repair-section:last-child {
            border-bottom: none;
        }
        
        .repair-section h2 {
            font-size: 2.5rem;
            font-weight: 600;
            color: #000000;
            margin-bottom: 2rem;
            font-family: 'Montserrat', sans-serif;
            text-align: center;
        }
        
        .repair-section h3 {
            font-size: 1.5rem;
            font-weight: 600;
            color: #000000;
            margin-bottom: 1rem;
            font-family: 'Montserrat', sans-serif;
        }
        
        .repair-section p {
            font-size: 1rem;
            color: #333333;
            line-height: 1.8;
            margin-bottom: 1rem;
        }
        
        .repair-services-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 2rem;
            margin-top: 2rem;
        }
        
        .repair-service-card {
            background: #ffffff;
            border: 1px solid #000000;
            padding: 2rem;
            text-align: center;
            transition: all 0.3s;
            cursor: pointer;
        }
        
        .repair-service-card:hover {
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
            border-color: #333333;
        }
        
        .repair-service-card.selected {
            background: #000000;
            color: #ffffff;
        }
        
        .repair-service-card.selected h3,
        .repair-service-card.selected p,
        .repair-service-card.selected .repair-service-price {
            color: #ffffff;
        }
        
        .repair-service-card h3 {
            font-size: 1.3rem;
            margin-bottom: 1rem;
        }
        
        .repair-service-card p {
            color: #666666;
            font-size: 0.95rem;
        }
        
        .repair-service-price {
            font-size: 1.1rem;
            font-weight: 600;
            color: #000000;
            margin-top: 1rem;
        }
        
        .works-gallery {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 1.5rem;
            margin-top: 2rem;
        }
        
        .works-gallery-item {
            position: relative;
            overflow: hidden;
            border: 1px solid #000000;
            background: #ffffff;
            aspect-ratio: 1;
        }
        
        .works-gallery-item img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.3s;
        }
        
        .works-gallery-item:hover img {
            transform: scale(1.05);
        }
        
        /* Repair Form Section */
        .repair-form-section {
            background: #fafafa;
            padding: 4rem 0;
            border-top: 2px solid #000000;
        }
        
        .repair-form-container {
            max-width: 800px;
            margin: 0 auto;
            background: #ffffff;
            border: 1px solid #000000;
            padding: 3rem;
        }
        
        .repair-form-container h2 {
            font-size: 2rem;
            margin-bottom: 2rem;
            text-align: center;
        }
        
        .repair-form {
            display: flex;
            flex-direction: column;
            gap: 1.5rem;
        }
        
        .form-group {
            display: flex;
            flex-direction: column;
        }
        
        .form-group label {
            font-size: 0.9rem;
            font-weight: 500;
            color: #000000;
            margin-bottom: 0.5rem;
            font-family: 'Montserrat', sans-serif;
        }
        
        .form-group input,
        .form-group textarea,
        .form-group select {
            width: 100%;
            padding: 0.8rem;
            border: 1px solid #000000;
            font-size: 1rem;
            font-family: 'Poppins', sans-serif;
            background: #ffffff;
            color: #000000;
            transition: all 0.3s;
        }
        
        .form-group input:focus,
        .form-group textarea:focus,
        .form-group select:focus {
            outline: none;
            border-color: #333333;
            box-shadow: 0 0 0 2px rgba(0, 0, 0, 0.1);
        }
        
        .form-group textarea {
            resize: vertical;
            min-height: 120px;
        }
        
        .form-row {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 1.5rem;
        }
        
        .btn-submit-repair {
            background: #000000;
            color: #ffffff;
            border: 1px solid #000000;
            padding: 1rem 2rem;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            font-family: 'Montserrat', sans-serif;
            margin-top: 1rem;
        }
        
        .btn-submit-repair:hover {
            background: #333333;
            border-color: #333333;
        }
        
        .selected-service-info {
            background: #f5f5f5;
            border: 1px solid #000000;
            padding: 1.5rem;
            margin-bottom: 2rem;
        }
        
        .selected-service-info h3 {
            font-size: 1.2rem;
            margin-bottom: 0.5rem;
        }
        
        .selected-service-info p {
            color: #666666;
            font-size: 0.95rem;
        }
        
        @media (max-width: 968px) {
            .repair-header {
                padding: 1.5rem 0;
            }
            
            .repair-header .container {
                flex-direction: column;
                gap: 1rem;
                align-items: flex-start;
            }
            
            .repair-header .logo {
                width: 100%;
            }
            
            .repair-header .back-link {
                width: 100%;
                text-align: center;
                padding: 0.7rem 1rem;
            }
            
            .repair-section {
                padding: 3rem 0;
            }
            
            .repair-section h2 {
                font-size: 2.2rem;
            }
            
            .repair-services-grid {
                grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
                gap: 1.5rem;
            }
        }
        
        @media (max-width: 768px) {
            .repair-header {
                padding: 1rem 0;
            }
            
            .repair-header .logo img {
                width: 40px;
                height: 40px;
            }
            
            .repair-header .logo-text {
                font-size: 1.3rem;
            }
            
            .repair-header .back-link {
                font-size: 0.9rem;
                padding: 0.6rem 0.8rem;
            }
            
            .repair-section {
                padding: 2rem 0;
            }
            
            .repair-section h2 {
                font-size: 1.8rem;
                margin-bottom: 1.5rem;
            }
            
            .repair-services-grid {
                grid-template-columns: 1fr;
                gap: 1.5rem;
            }
            
            .repair-service-card {
                padding: 1.5rem;
            }
            
            .repair-service-card h3 {
                font-size: 1.2rem;
            }
            
            .repair-service-card p {
                font-size: 0.9rem;
            }
            
            .repair-service-price {
                font-size: 1rem;
            }
            
            .works-gallery {
                grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
                gap: 1rem;
            }
            
            .repair-form-section {
                padding: 2rem 0;
            }
            
            .repair-form-container {
                padding: 1.5rem;
                margin: 0 10px;
            }
            
            .repair-form-container h2 {
                font-size: 1.6rem;
                margin-bottom: 1.5rem;
            }
            
            .selected-service-info {
                padding: 1rem;
                margin-bottom: 1.5rem;
            }
            
            .selected-service-info h3 {
                font-size: 1.1rem;
            }
            
            .selected-service-info p {
                font-size: 0.9rem;
            }
            
            .repair-form {
                gap: 1.2rem;
            }
            
            .form-group label {
                font-size: 0.85rem;
            }
            
            .form-group input,
            .form-group textarea,
            .form-group select {
                padding: 0.7rem;
                font-size: 0.95rem;
            }
            
            .form-group textarea {
                min-height: 100px;
            }
            
            .form-row {
                grid-template-columns: 1fr;
                gap: 1.2rem;
            }
            
            .btn-submit-repair {
                padding: 0.9rem 1.5rem;
                font-size: 0.95rem;
                width: 100%;
            }
        }
        
        @media (max-width: 480px) {
            .repair-header {
                padding: 0.8rem 0;
            }
            
            .repair-header .logo img {
                width: 36px;
                height: 36px;
            }
            
            .repair-header .logo-text {
                font-size: 1.1rem;
            }
            
            .repair-header .back-link {
                font-size: 0.85rem;
                padding: 0.5rem 0.7rem;
            }
            
            .repair-section {
                padding: 1.5rem 0;
            }
            
            .repair-section h2 {
                font-size: 1.5rem;
                margin-bottom: 1.2rem;
            }
            
            .repair-services-grid {
                gap: 1rem;
            }
            
            .repair-service-card {
                padding: 1.2rem;
            }
            
            .repair-service-card h3 {
                font-size: 1.1rem;
                margin-bottom: 0.8rem;
            }
            
            .repair-service-card p {
                font-size: 0.85rem;
            }
            
            .repair-service-price {
                font-size: 0.95rem;
                margin-top: 0.8rem;
            }
            
            .works-gallery {
                grid-template-columns: repeat(auto-fill, minmax(120px, 1fr));
                gap: 0.8rem;
            }
            
            .repair-form-section {
                padding: 1.5rem 0;
            }
            
            .repair-form-container {
                padding: 1.2rem;
                margin: 0 5px;
            }
            
            .repair-form-container h2 {
                font-size: 1.4rem;
                margin-bottom: 1.2rem;
            }
            
            .selected-service-info {
                padding: 0.8rem;
                margin-bottom: 1.2rem;
            }
            
            .selected-service-info h3 {
                font-size: 1rem;
            }
            
            .selected-service-info p {
                font-size: 0.85rem;
            }
            
            .repair-form {
                gap: 1rem;
            }
            
            .form-group {
                margin-bottom: 0;
            }
            
            .form-group label {
                font-size: 0.8rem;
                margin-bottom: 0.4rem;
            }
            
            .form-group input,
            .form-group textarea,
            .form-group select {
                padding: 0.6rem;
                font-size: 0.9rem;
            }
            
            .form-group textarea {
                min-height: 90px;
            }
            
            .form-row {
                gap: 1rem;
            }
            
            .btn-submit-repair {
                padding: 0.8rem 1.2rem;
                font-size: 0.9rem;
                margin-top: 0.5rem;
            }
        }
    </style>
</head>
<body class="repair-page">
    <!-- Repair Header -->
    <header class="repair-header">
        <div class="container">
            <a href="index.html" class="logo">
                <img src="images/logo/apple-logo.png" alt="Apple Logo" class="apple-logo">
                <span class="logo-text">Apple <span style="font-weight: 300;">Favorite</span></span>
            </a>
            <a href="index.html" class="back-link">← На главную</a>
        </div>
    </header>

    <!-- Repair Services Section -->
    <section class="repair-section">
        <div class="container">
            <h2>Услуги ремонта</h2>
            <div class="repair-services-grid">
                <div class="repair-service-card" data-service="battery" onclick="selectRepairService('battery')">
                    <h3>Замена аккумулятора</h3>
                    <p>Оригинальные аккумуляторы с гарантией</p>
                    <div class="repair-service-price">от 1500 ₽</div>
                </div>
                <div class="repair-service-card" data-service="glass" onclick="selectRepairService('glass')">
                    <h3>Замена заднего стекла и корпуса</h3>
                    <p>Восстановление внешнего вида устройства</p>
                    <div class="repair-service-price">от 2500 ₽</div>
                </div>
                <div class="repair-service-card" data-service="polish" onclick="selectRepairService('polish')">
                    <h3>Полировка стекла</h3>
                    <p>iPhone, Apple Watch</p>
                    <div class="repair-service-price">от 2000 ₽</div>
                </div>
                <div class="repair-service-card" data-service="screen" onclick="selectRepairService('screen')">
                    <h3>Переклейка стекла</h3>
                    <p>Профессиональная замена дисплея</p>
                    <div class="repair-service-price">от 2500 ₽</div>
                </div>
                <div class="repair-service-card" data-service="protection" onclick="selectRepairService('protection')">
                    <h3>Защитные стёкла и чехлы</h3>
                    <p>Оригинальная защита для вашего устройства</p>
                    <div class="repair-service-price">от 300 ₽</div>
                </div>
                <div class="repair-service-card" data-service="other" onclick="selectRepairService('other')">
                    <h3>Другие виды услуг</h3>
                    <p>Широкий спектр ремонтных услуг</p>
                    <div class="repair-service-price">от 500 ₽</div>
                </div>
            </div>
        </div>
    </section>

    <!-- Repair Form Section -->
    <section class="repair-form-section" id="repairFormSection" style="display: none;">
        <div class="container">
            <div class="repair-form-container">
                <h2>Заявка на ремонт</h2>
                <div class="selected-service-info" id="selectedServiceInfo">
                    <!-- Selected service info will be shown here -->
                </div>
                <form id="repairForm" class="repair-form" onsubmit="submitRepairForm(event)">
                    <div class="form-row">
                        <div class="form-group">
                            <label for="repairName">Ваше имя *</label>
                            <input type="text" id="repairName" name="name" placeholder="Введите ваше имя" required>
                        </div>
                        <div class="form-group">
                            <label for="repairPhone">Телефон *</label>
                            <input type="tel" id="repairPhone" name="phone" placeholder="+7 (___) ___-__-__" required>
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="repairEmail">E-mail</label>
                        <input type="email" id="repairEmail" name="email" placeholder="example@mail.ru">
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="repairDevice">Модель устройства *</label>
                            <input type="text" id="repairDevice" name="device" placeholder="Например: iPhone 15 Pro Max" required>
                        </div>
                        <div class="form-group">
                            <label for="repairSerial">Серийный номер (если известен)</label>
                            <input type="text" id="repairSerial" name="serial" placeholder="Введите серийный номер">
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="repairDescription">Описание проблемы *</label>
                        <textarea id="repairDescription" name="description" placeholder="Опишите подробно проблему или что нужно сделать" required></textarea>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="repairDateTime">Желаемая дата и время *</label>
                            <input type="datetime-local" id="repairDateTime" name="dateTime" required>
                        </div>
                        <div class="form-group">
                            <label for="repairUrgency">Срочность</label>
                            <select id="repairUrgency" name="urgency">
                                <option value="normal">Обычная</option>
                                <option value="urgent">Срочно (+20% к стоимости)</option>
                                <option value="very-urgent">Очень срочно (+50% к стоимости)</option>
                            </select>
                            <p style="font-size: 0.85rem; color: #666666; margin-top: 0.5rem; margin-bottom: 0;">Выбор срочности увеличит стоимость услуги</p>
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="repairAddress">Адрес (если нужна доставка)</label>
                        <input type="text" id="repairAddress" name="address" placeholder="Введите адрес доставки">
                    </div>
                    <div class="form-group">
                        <label for="repairNotes">Дополнительные комментарии</label>
                        <textarea id="repairNotes" name="notes" placeholder="Любая дополнительная информация"></textarea>
                    </div>
                    <button type="submit" form="repairForm" class="btn-submit-repair">Отправить заявку</button>
                </form>
            </div>
        </div>
    </section>

    <!-- Works Gallery Section -->
    <section class="repair-section">
        <div class="container">
            <h2>Наши работы</h2>
            <div class="works-gallery" id="worksGallery">
                <!-- Images will be loaded by JavaScript -->
            </div>
        </div>
    </section>

    <script>
        // Repair services data
        const repairServices = {
            'battery': {
                title: 'Замена аккумулятора',
                price: 'от 1500 ₽',
                description: 'Оригинальные аккумуляторы с гарантией'
            },
            'glass': {
                title: 'Замена заднего стекла и корпуса',
                price: 'от 2500 ₽',
                description: 'Восстановление внешнего вида устройства'
            },
            'polish': {
                title: 'Полировка стекла',
                price: 'iPhone, Apple Watch от 2000 ₽',
                description: 'iPhone, Apple Watch'
            },
            'screen': {
                title: 'Переклейка стекла',
                price: 'от 2500 ₽',
                description: 'Профессиональная замена дисплея'
            },
            'protection': {
                title: 'Защитные стёкла и чехлы',
                price: 'от 300 ₽',
                description: 'Оригинальная защита для вашего устройства'
            },
            'other': {
                title: 'Другие виды услуг',
                price: 'от 500 ₽',
                description: 'Широкий спектр ремонтных услуг'
            }
        };

        let selectedService = null;

        // Select repair service
        function selectRepairService(serviceId) {
            // Remove previous selection
            document.querySelectorAll('.repair-service-card').forEach(card => {
                card.classList.remove('selected');
            });

            // Add selection to clicked card
            const card = document.querySelector(`[data-service="${serviceId}"]`);
            if (card) {
                card.classList.add('selected');
                selectedService = serviceId;

                // Show selected service info
                const service = repairServices[serviceId];
                const infoDiv = document.getElementById('selectedServiceInfo');
                infoDiv.innerHTML = `
                    <h3>${service.title}</h3>
                    <p><strong>Цена:</strong> ${service.price}</p>
                    <p>${service.description}</p>
                `;

                // Show form section
                document.getElementById('repairFormSection').style.display = 'block';
                
                // Scroll to form
                setTimeout(() => {
                    document.getElementById('repairFormSection').scrollIntoView({ 
                        behavior: 'smooth', 
                        block: 'start' 
                    });
                }, 100);
            }
        }

        // Submit repair form
        function submitRepairForm(event) {
            event.preventDefault();
            
            if (!selectedService) {
                alert('Пожалуйста, выберите услугу');
                return;
            }

            const formData = {
                service: repairServices[selectedService].title,
                serviceId: selectedService,
                name: document.getElementById('repairName').value,
                phone: document.getElementById('repairPhone').value,
                email: document.getElementById('repairEmail').value,
                device: document.getElementById('repairDevice').value,
                serial: document.getElementById('repairSerial').value,
                description: document.getElementById('repairDescription').value,
                dateTime: document.getElementById('repairDateTime').value,
                urgency: document.getElementById('repairUrgency').value,
                address: document.getElementById('repairAddress').value,
                notes: document.getElementById('repairNotes').value,
                date: new Date().toISOString()
            };

            // Save to localStorage
            const repairs = JSON.parse(localStorage.getItem('repairOrders') || '[]');
            repairs.push(formData);
            localStorage.setItem('repairOrders', JSON.stringify(repairs));

            // Show success message
            alert('✅ Заявка успешно отправлена! Мы свяжемся с вами в ближайшее время.');
            
            // Reset form
            document.getElementById('repairForm').reset();
            
            // Reset selection
            document.querySelectorAll('.repair-service-card').forEach(card => {
                card.classList.remove('selected');
            });
            selectedService = null;
            document.getElementById('repairFormSection').style.display = 'none';
            document.getElementById('selectedServiceInfo').innerHTML = '';
        }

        // Work images array
        const workImages = [
            'images/raboti/2trp21a25uyo0c44o0440g8kw048g4.png',
            'images/raboti/4v32kjykgyec4ok0oogc0g84s4gwks.png',
            'images/raboti/6m54sw4x78wswoog0wg4k4cgg08ggw.png',
            'images/raboti/6nth0bill4sgs4gg0wwos404ccwo00.png',
            'images/raboti/7e4e5907a4863633669a2714f7d67a234e25a3d7.png',
            'images/raboti/885x04qfnbswososc4s4sw88wws048.png',
            'images/raboti/9k6hggv0qcws04s00ckkk4ow8kg48g.png',
            'images/raboti/b6a3xyntz20ww0ow4kgoc88kkkwwc0.png',
            'images/raboti/ed34d69c8a1a40d3e84b89b8ff850868bd445144.png',
            'images/raboti/i2angvhnpmo0ow4wowwggkk0skgg8w.png',
            'images/raboti/k57pvp0plk0k4gws0wwg0kk84gco00.png',
            'images/raboti/q91uwlszpz4w0s0g0w4wocggoc40g0.png',
            'images/raboti/r7t34xni5lw4kwgsoog40g44kw4kck.png'
        ];

        // Load works gallery
        function loadWorksGallery() {
            const gallery = document.getElementById('worksGallery');
            if (!gallery) return;

            workImages.forEach(src => {
                const item = document.createElement('div');
                item.className = 'works-gallery-item';
                
                const img = document.createElement('img');
                img.src = src;
                img.alt = 'Пример работы';
                img.loading = 'lazy';
                
                img.onerror = function() {
                    this.style.display = 'none';
                };
                
                item.appendChild(img);
                gallery.appendChild(item);
            });
        }

        // Get service from URL parameter and auto-select it
        function checkUrlService() {
            const urlParams = new URLSearchParams(window.location.search);
            const serviceId = urlParams.get('service');
            
            if (serviceId && repairServices[serviceId]) {
                // Auto-select the service
                selectRepairService(serviceId);
            }
        }

        // Initialize on page load
        document.addEventListener('DOMContentLoaded', function() {
            loadWorksGallery();
            checkUrlService();
        });
    </script>
</body>
</html>

